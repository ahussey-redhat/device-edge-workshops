{"ast":null,"code":"/* eslint-disable @typescript-eslint/consistent-type-definitions */\nimport * as React from 'react';\nimport { createPopper as defaultCreatePopper } from '../popper-core/popper';\nimport { useIsomorphicLayoutEffect } from '../../../../helpers/useIsomorphicLayout';\nconst isEqual = (a, b) => JSON.stringify(a) === JSON.stringify(b);\n/**\n * Simple ponyfill for Object.fromEntries\n */\nconst fromEntries = entries => entries.reduce((acc, _ref) => {\n  let [key, value] = _ref;\n  acc[key] = value;\n  return acc;\n}, {});\nconst EMPTY_MODIFIERS = [];\nexport const usePopper = function (referenceElement, popperElement) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const prevOptions = React.useRef(null);\n  const optionsWithDefaults = {\n    onFirstUpdate: options.onFirstUpdate,\n    placement: options.placement || 'bottom',\n    strategy: options.strategy || 'absolute',\n    modifiers: options.modifiers || EMPTY_MODIFIERS\n  };\n  const [state, setState] = React.useState({\n    styles: {\n      popper: {\n        position: optionsWithDefaults.strategy,\n        left: '0',\n        top: '0'\n      }\n    },\n    attributes: {}\n  });\n  const updateStateModifier = React.useMemo(() => ({\n    name: 'updateState',\n    enabled: true,\n    phase: 'write',\n    // eslint-disable-next-line no-shadow\n    fn: _ref2 => {\n      let {\n        state\n      } = _ref2;\n      const elements = Object.keys(state.elements);\n      setState({\n        styles: fromEntries(elements.map(element => [element, state.styles[element] || {}])),\n        attributes: fromEntries(elements.map(element => [element, state.attributes[element]]))\n      });\n    },\n    requires: ['computeStyles']\n  }), []);\n  const popperOptions = React.useMemo(() => {\n    const newOptions = {\n      onFirstUpdate: optionsWithDefaults.onFirstUpdate,\n      placement: optionsWithDefaults.placement,\n      strategy: optionsWithDefaults.strategy,\n      modifiers: [...optionsWithDefaults.modifiers, updateStateModifier, {\n        name: 'applyStyles',\n        enabled: false\n      }]\n    };\n    if (isEqual(prevOptions.current, newOptions)) {\n      return prevOptions.current || newOptions;\n    } else {\n      prevOptions.current = newOptions;\n      return newOptions;\n    }\n  }, [optionsWithDefaults.onFirstUpdate, optionsWithDefaults.placement, optionsWithDefaults.strategy, optionsWithDefaults.modifiers, updateStateModifier]);\n  const popperInstanceRef = React.useRef();\n  useIsomorphicLayoutEffect(() => {\n    if (popperInstanceRef && popperInstanceRef.current) {\n      popperInstanceRef.current.setOptions(popperOptions);\n    }\n  }, [popperOptions]);\n  useIsomorphicLayoutEffect(() => {\n    if (referenceElement == null || popperElement == null) {\n      return;\n    }\n    const createPopper = options.createPopper || defaultCreatePopper;\n    const popperInstance = createPopper(referenceElement, popperElement, popperOptions);\n    popperInstanceRef.current = popperInstance;\n    return () => {\n      popperInstance.destroy();\n      popperInstanceRef.current = null;\n    };\n  }, [referenceElement, popperElement, options.createPopper]);\n  return {\n    state: popperInstanceRef.current ? popperInstanceRef.current.state : null,\n    styles: state.styles,\n    attributes: state.attributes,\n    update: popperInstanceRef.current ? popperInstanceRef.current.update : null,\n    forceUpdate: popperInstanceRef.current ? popperInstanceRef.current.forceUpdate : null\n  };\n};","map":{"version":3,"names":["React","createPopper","defaultCreatePopper","useIsomorphicLayoutEffect","isEqual","a","b","JSON","stringify","fromEntries","entries","reduce","acc","_ref","key","value","EMPTY_MODIFIERS","usePopper","referenceElement","popperElement","options","arguments","length","undefined","prevOptions","useRef","optionsWithDefaults","onFirstUpdate","placement","strategy","modifiers","state","setState","useState","styles","popper","position","left","top","attributes","updateStateModifier","useMemo","name","enabled","phase","fn","_ref2","elements","Object","keys","map","element","requires","popperOptions","newOptions","current","popperInstanceRef","setOptions","popperInstance","destroy","update","forceUpdate"],"sources":["C:\\work\\Demo\\device-edge-workshops\\roles\\build_local_services\\files\\rhde_tse\\attendance\\node_modules\\@patternfly\\react-core\\src\\helpers\\Popper\\thirdparty\\react-popper\\usePopper.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/consistent-type-definitions */\n\nimport * as React from 'react';\nimport { createPopper as defaultCreatePopper, Options as PopperOptions, VirtualElement } from '../popper-core/popper';\nimport { useIsomorphicLayoutEffect } from '../../../../helpers/useIsomorphicLayout';\n\ntype $Shape<T extends object> = Partial<T>;\n\nconst isEqual = (a: any, b: any) => JSON.stringify(a) === JSON.stringify(b);\n\n/**\n * Simple ponyfill for Object.fromEntries\n */\nconst fromEntries = (entries: [string, any][]) =>\n  entries.reduce((acc: any, [key, value]) => {\n    acc[key] = value;\n    return acc;\n  }, {});\n\ntype Options = $Shape<\n  PopperOptions & {\n    createPopper: typeof defaultCreatePopper;\n  }\n>;\n\ntype State = {\n  styles: {\n    [key: string]: $Shape<CSSStyleDeclaration>;\n  };\n  attributes: {\n    [key: string]: {\n      [key: string]: string;\n    };\n  };\n};\n\nconst EMPTY_MODIFIERS: any = [];\n\nexport const usePopper = (\n  referenceElement: (Element | VirtualElement) | null | undefined,\n  popperElement: HTMLElement | null | undefined,\n  options: Options = {}\n) => {\n  const prevOptions = React.useRef<PopperOptions | null | undefined>(null);\n\n  const optionsWithDefaults = {\n    onFirstUpdate: options.onFirstUpdate,\n    placement: options.placement || 'bottom',\n    strategy: options.strategy || 'absolute',\n    modifiers: options.modifiers || EMPTY_MODIFIERS\n  };\n\n  const [state, setState] = React.useState<State>({\n    styles: {\n      popper: {\n        position: optionsWithDefaults.strategy,\n        left: '0',\n        top: '0'\n      }\n    },\n    attributes: {}\n  });\n\n  const updateStateModifier = React.useMemo(\n    () => ({\n      name: 'updateState',\n      enabled: true,\n      phase: 'write',\n      // eslint-disable-next-line no-shadow\n      fn: ({ state }: any) => {\n        const elements = Object.keys(state.elements);\n\n        setState({\n          styles: fromEntries(elements.map(element => [element, state.styles[element] || {}])),\n          attributes: fromEntries(elements.map(element => [element, state.attributes[element]]))\n        });\n      },\n      requires: ['computeStyles']\n    }),\n    []\n  );\n\n  const popperOptions = React.useMemo(() => {\n    const newOptions = {\n      onFirstUpdate: optionsWithDefaults.onFirstUpdate,\n      placement: optionsWithDefaults.placement,\n      strategy: optionsWithDefaults.strategy,\n      modifiers: [...optionsWithDefaults.modifiers, updateStateModifier, { name: 'applyStyles', enabled: false }]\n    };\n\n    if (isEqual(prevOptions.current, newOptions)) {\n      return prevOptions.current || newOptions;\n    } else {\n      prevOptions.current = newOptions;\n      return newOptions;\n    }\n  }, [\n    optionsWithDefaults.onFirstUpdate,\n    optionsWithDefaults.placement,\n    optionsWithDefaults.strategy,\n    optionsWithDefaults.modifiers,\n    updateStateModifier\n  ]);\n\n  const popperInstanceRef = React.useRef<any>();\n\n  useIsomorphicLayoutEffect(() => {\n    if (popperInstanceRef && popperInstanceRef.current) {\n      popperInstanceRef.current.setOptions(popperOptions);\n    }\n  }, [popperOptions]);\n\n  useIsomorphicLayoutEffect(() => {\n    if (referenceElement == null || popperElement == null) {\n      return;\n    }\n\n    const createPopper = options.createPopper || defaultCreatePopper;\n    const popperInstance = createPopper(referenceElement, popperElement, popperOptions);\n\n    popperInstanceRef.current = popperInstance;\n\n    return () => {\n      popperInstance.destroy();\n      popperInstanceRef.current = null;\n    };\n  }, [referenceElement, popperElement, options.createPopper]);\n\n  return {\n    state: popperInstanceRef.current ? popperInstanceRef.current.state : null,\n    styles: state.styles,\n    attributes: state.attributes,\n    update: popperInstanceRef.current ? popperInstanceRef.current.update : null,\n    forceUpdate: popperInstanceRef.current ? popperInstanceRef.current.forceUpdate : null\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}