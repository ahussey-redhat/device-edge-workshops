# Generated by the workshop provisioner
{% if run_locally is defined and run_locally | bool %}
[local]
edge-manager-local ansible_host={{ hostvars['edge-manager-local']['ansible_host'] }} ansible_user={{ hostvars['edge-manager-local']['ansible_user'] }} {{ 'ansible_password' if hostvars['edge-manager-local']['ansible_password'] is defined else 'ansible_ssh_private_key_file' }}={{ hostvars['edge-manager-local']['ansible_password'] if hostvars['edge-manager-local']['ansible_password'] is defined else hostvars['edge-manager-local']['ansible_ssh_private_key_file'] }}
{% if manage_local_hypervisor is defined and manage_local_hypervisor | bool %}
edge-hypervisor-local ansible_host={{ hostvars['edge-hypervisor-local']['ansible_host'] }} ansible_user={{ hostvars['edge-hypervisor-local']['ansible_user'] }} {{ 'ansible_password' if hostvars['edge-hypervisor-local']['ansible_password'] is defined else 'ansible_ssh_private_key_file' }}={{ hostvars['edge-hypervisor-local']['ansible_password'] if hostvars['edge-hypervisor-local']['ansible_password'] is defined else hostvars['edge-hypervisor-local']['ansible_ssh_private_key_file'] }}
{% endif %}
{% endif %}

{%if run_in_aws is defined and run_in_aws | bool %}
[aws]
edge-management-aws ansible_host={{ edge_management_node_facts.instances[0].public_ip_address }} ansible_user={{ edge_management_node_facts.instances[0].tags.username }}
[aws:vars]
{% if ssh_port is defined %}
ansible_port={{ ssh_port }}
{% endif %}
ansible_ssh_private_key_file="{{ playbook_dir }}/{{ ec2_name_prefix }}/{{ ec2_name_prefix }}-private.pem"
{% endif %}

[edge_mangement]
{% if run_locally is defined and run_locally | bool %}
edge-manager-local
{% endif %}
{%if run_in_aws is defined and run_in_aws | bool %}
edge-manager-aws
{% endif %}

[edge_hypervisor]
{% if manage_local_hypervisor is defined and manage_local_hypervisor | bool %}
edge-hypervisor-local
{% endif %}

{% if attendance %}
[attendance]
{% for host in attendance_host_facts.instances %}
{{ host.tags.short_name }} ansible_host={{ host.public_ip_address }} ansible_user=ec2-user
{% endfor %}
{% endif %}
